const Slot=function(e){this.canvas=e;let t=!1,o=[...range(1,3)].map((t=>new Reel(e,conf.reel.xOffsets[t-1]))),n=0,i=[];this.checkout=function(){confirm("Are you sure? We can keep your money better!")&&(conf.player.money=0,conf.balance.value=conf.player.money,conf.win.classList.remove("blink"),t=!1,alert("Your operation has been made successfully"))},this.setCredits=function(){return conf.player.money=conf.balance.value,this},this.spin=function(){if(conf.win.value=0,conf.sound.spin.play(),conf.player.money-1*conf.bet.value<0)return conf.sound.spin.currentTime=0,conf.sound.spin.pause(),alert("You dont have enough credits!"),void(t=!1);conf.balance.value=conf.player.money,i=[],o.forEach((e=>{e.clicked=!0,e.finalAnimation=!1,e.finalShapes=e.setFinalShapes(),i.push(e.finalShapes)})),conf.spinBtn.setAttribute("disabled","disabled"),conf.what.setAttribute("disabled","disabled"),conf.where.setAttribute("disabled","disabled"),conf.bet.setAttribute("disabled","disabled"),conf.mode.setAttribute("disabled","disabled"),conf.checkout.setAttribute("disabled","disabled"),conf.win.classList.remove("blink")},this.setMode=function(){o.forEach((e=>{e.mode=conf.mode.value,e.fixedPlace=conf.where.value,e.fixedImg=conf.what.value}))},this.loop=function(e){o.forEach(((o,a)=>{this.drawStopPoints(),o.spinAnimation(),o.spin2point(),o.clicked&&(o.clicked=!1,o.clickTime=e,o.spinning=!0),n=e-o.clickTime,n>conf.reel.animTimes[a]&&o.spinning&&(o.finalAnimation=!0,o.spinning=!1,2===a&&(conf.spinBtn.removeAttribute("disabled"),conf.what.removeAttribute("disabled"),conf.where.removeAttribute("disabled"),conf.mode.removeAttribute("disabled"),conf.checkout.removeAttribute("disabled"),o.done((()=>{conf.sound.spin.currentTime=0,conf.sound.spin.pause();let e=c(i);t&&setTimeout((function(){conf.spinBtn.click()}),e?conf.autoModeDelay:300)}))))}))},this.start=function(){return conf.sound.win.volume=1,conf.sound.spin.volume=.03,o.forEach((e=>{e.clicked=!0,e.finalAnimation=!1,e.finalShapes=e.setFinalShapes()})),o.forEach(((e,t)=>{e.clicked=!1,e.finalAnimation=!0,e.spinning=!1})),this},this.drawStopPoints=function(){this.canvas.strokeStyle="#121212",[60,120,180].forEach((e=>{this.canvas.strokeRect(0,e-2,5,0),this.canvas.strokeRect(conf.width-5,e-2,5,0)}))};let c=function(t){t[0][0].stop!==t[1][0].stop||(t[1][0].stop,t[2][0].stop);let o={top:0,middle:0,bottom:0},n=1*conf.bet.value,i=[];for(let e=0;e<t.length;e++){let c=t[0][e],a=t[1][e],s=t[2][e],l=c.key+a.key+s.key;0===c.stop&&(l.match(/(Cherry){3}/g)?o.top+=2e3*n:l.match(/(7){3}/g)?o.top+=150*n:l.match(/(7|Cherry){3}/g)?o.top+=75*n:l.match(/(3xBAR){3}/g)?o.top+=50*n:l.match(/(2xBAR){3}/g)?o.top+=20*n:l.match(/(BAR){3}/g)?o.top+=10*n:l.match(/(BAR|2xBAR|3xBAR){3}/g)&&(o.top+=5*n),0!==o.top&&i.push(0+conf.reel.height/2)),60===c.stop&&(l.match(/(Cherry){3}/g)?o.middle+=1e3*n:l.match(/(7){3}/g)?o.middle+=150*n:l.match(/(7|Cherry){3}/g)?o.middle+=75*n:l.match(/(3xBAR){3}/g)?o.middle+=50*n:l.match(/(2xBAR){3}/g)?o.middle+=20*n:l.match(/(BAR){3}/g)?o.middle+=10*n:l.match(/(BAR|2xBAR|3xBAR){3}/g)&&(o.middle+=5*n),0!==o.middle&&i.push(60+conf.reel.height/2)),120===c.stop&&(l.match(/(Cherry){3}/g)?o.bottom+=4e3*n:l.match(/(7){3}/g)?o.bottom+=150*n:l.match(/(7|Cherry){3}/g)?o.bottom+=75*n:l.match(/(3xBAR){3}/g)?o.bottom+=50*n:l.match(/(2xBAR){3}/g)?o.bottom+=20*n:l.match(/(BAR){3}/g)?o.bottom+=10*n:l.match(/(BAR|2xBAR|3xBAR){3}/g)&&(o.bottom+=5*n),0!==o.bottom&&i.push(120+conf.reel.height/2))}i.forEach((t=>{e.beginPath(),e.moveTo(10,t-2),e.lineTo(conf.width-10,t-2),e.strokeStyle="#FF0000",e.stroke()}));return conf.totalWin.value=Number(conf.totalWin.value)+10,conf.sound.win.play(),conf.win.classList.add("blink"),conf.win.value=10,console.log(o),!0}};
//# sourceMappingURL=index.5d38560c.js.map
